# Default values for mcp-kubernetes-server (v1 - read-only).

replicaCount: 1

image:
  repository: your-registry/mcp-kubernetes-server
  tag: "dev"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8080
  targetPort: 8080
  annotations: {}

server:
  # transport: stdio | sse | streamable-http
  transport: streamable-http
  host: "0.0.0.0"

  # IMPORTANT: keep this aligned with service.targetPort
  port: 8080

  # Feature flags mapped to server CLI options
  disableKubectl: false
  disableHelm: false

  # v1 is read-only
  disableWrite: true
  disableDelete: true

  # Extra args appended to entrypoint
  extraArgs: []

resources: {}
# resources:
#   limits:
#     cpu: 200m
#     memory: 256Mi
#   requests:
#     cpu: 50m
#     memory: 64Mi

nodeSelector: {}
tolerations: []
affinity: {}

podAnnotations: {}
podLabels: {}

# Health probes
livenessProbe:
  enabled: true
  path: /healthz
  port: 8080
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 3
  failureThreshold: 3

readinessProbe:
  enabled: true
  path: /readyz
  port: 8080
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 3
  failureThreshold: 3

# ServiceAccount and RBAC
serviceAccount:
  create: true
  name: ""

rbac:
  create: true
  # profile: readonly | write | admin
  profile: readonly

# Ingress configuration
ingress:
  enabled: true

  # ingressClassName (e.g. nginx, traefik, alb)
  className: ""

  annotations: {}

  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: Prefix

  # TLS configuration
  tls:
    enabled: false
    items: []
    # items:
    #   - hosts:
    #       - chart-example.local
    #     secretName: mcp-kubernetes-server-tls
